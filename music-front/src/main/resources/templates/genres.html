<!DOCTYPE html>
  <html lang="en" class="app" xmlns:th="http://www.thymeleaf.org">
  <head>
  <meta charset="utf-8" />
  <title>Musik | Web Application</title>
  <meta name="description" content="app, web app, responsive, admin dashboard, admin, flat, flat ui, ui kit, off screen nav" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <link rel="stylesheet" th:href="@{./asserts/js/jPlayer/jplayer.flat.css}" type="text/css" />
  <link rel="stylesheet" th:href="@{./asserts/css/bootstrap.css}" type="text/css" />
  <link rel="stylesheet" th:href="@{./asserts/css/animate.css}" type="text/css" />
  <link rel="stylesheet" th:href="@{./asserts/css/font-awesome.min.css}" type="text/css" />
  <link rel="stylesheet" th:href="@{./asserts/css/simple-line-icons.css}" type="text/css" />
  <link rel="stylesheet" th:href="@{./asserts/css/font.css}" type="text/css" />
  <link rel="stylesheet" th:href="@{./asserts/css/app.css}" type="text/css" />

  <script  th:src="@{asserts/js/ie/html5shiv.js}" src="asserts/asserts/js/ie/html5shiv.js"></script>
  <script th:src="@{asserts/js/ie/respond.min.js}" src="asserts/asserts/js/ie/respond.min.js"></script>
  <script th:src="@{asserts/js/ie/excanvas.js}" src="asserts/asserts/js/ie/excanvas.js"></script>

</head>
<body class="">

<section class="vbox">
  <section class="w-f-md" id="bjax-target">
    <section class="hbox stretch">
      <!-- side content -->
      <aside class="aside bg-light dk" id="sidebar">
                  <section class="vbox animated fadeInUp">
                    <section class="scrollable hover">
<!--                      <div class="list-group no-radius no-border no-bg m-t-n-xxs m-b-none auto">-->
<!--                        <a href="genres.html" class="list-group-item active">-->
<!--                          全部歌曲-->
<!--                        </a>-->
<!--                        <a href="genres.html" class="list-group-item">-->
<!--                          主题-->
<!--                        </a>-->
<!--                        <a href="genres.html" class="list-group-item">-->
<!--                          流派-->
<!--                        </a>-->
<!--                        <a href="genres.html" class="list-group-item">-->
<!--                          语种-->
<!--                        </a>-->
<!--                      </div>-->

                      <div class="container box">
                        <div class="panel-group">
                          <div class="panel panel-default">
                            <div class="panel-heading">
                              <h4 class="panel-title   active">
                                <a href="/allmusic" data-toggle="collapse" data-parent="#accordion">全部歌曲</a>
                              </h4>
                            </div>
                          </div>
                          <div class="panel panel-default">
                            <div class="panel-heading">
                              <h4 class="panel-title" >
                                <a href="#" data-toggle="collapse" data-parent="#accordion" name="theme">主题</a>
                              </h4>
                            </div>
                            <div id="ding" class="panel-collapse collapse in">
                              <div class="panel-body">
                                <ul class="nav">
                                  <li th:each="themes:${theme}">
<!--                                    <a th:href="@{/iframegenres/}+${themes.getSortname()}" th:text="${themes.getSortname()}"></a>-->
                                      <a href="#" onclick="querySheet(16)" th:text="${themes.getSortname()}"></a>

<!--                                    <a th:onclick="'javascript:querySheet(\''+${themes.getSortname()}+'\')'" th:text="${themes.getSortname()}"></a>-->
                                  </li>
                                </ul>
                              </div>
                            </div>
                          </div>
                          <div class="panel panel-default">
                            <div class="panel-heading">
                              <h4 class="panel-title">
                                <a href="#hui"  data-toggle="collapse" data-parent="#accordion">流派</a>
                              </h4>
                            </div>
                            <div id="hui" class="panel-collapse collapse">
                              <div class="panel-body">
                                <ul class="nav">
                                  <li th:each="styles:${style}">
                                    <a href="#" th:text="${styles.getSortname()}"></a>
                                  </li>
                                </ul>
                              </div>
                            </div>
                          </div>
                          <div class="panel panel-default">
                            <div class="panel-heading">
                              <h4 class="panel-title">
                                <a href="#cai"  data-toggle="collapse" data-parent="#accordion">语种</a>
                              </h4>
                            </div>
                            <div id="cai" class="panel-collapse collapse">
                              <div class="panel-body">
                                <ul class="nav">
                                  <li th:each="languages:${language}">
                                    <a href="#" th:text="${languages.getSortname()}"></a>
                                  </li>
                                </ul>
                              </div>
                            </div>
                          </div>

                        </div>
                      </div>
                    </section>
                  </section>
                </aside>
                <!-- / side content -->
                <section>
                  <section class="vbox">
                    <section class="scrollable padder-lg">
                      <h2 class="font-thin m-b">查询结果</h2>
                      <div class="row row-sm" id="musicid">
                        <div class="col-xs-6 col-sm-4 col-md-3 col-lg-2" th:each="music:${allmusic}" >
                          <div class="item">
                            <div class="pos-rlt">
                              <div class="item-overlay opacity r r-2x bg-black">
                                <div class="center text-center m-t-n">
                                  <a th:onclick="'javascript:addmusic(\''+${music.getMid()}+'\')'"><i class="fa fa-play-circle i-2x"></i></a>
                                </div>
                              </div>
                              <a href="#"><img th:src="@{content/songs/} + ${music.getMid()}+@{/}+${music.getMname()}+@{.jpg}" alt="" class="r r-2x img-full" style="width: 100%;height: 200px"></a>
                            </div>
                            <div class="padder-v">
                              <a href="#" data-bjax data-target="#bjax-target" data-el="#bjax-el" data-replace="true" class="text-ellipsis" th:text="${music.getMname()}"></a>
                              <a href="#" data-bjax data-target="#bjax-target" data-el="#bjax-el" data-replace="true" class="text-ellipsis text-xs text-muted" th:text="${music.getMsinger()}"></a>
                            </div>
                          </div>
                        </div>
                      </div>
<!--                      <ul class="pagination pagination">-->
<!--                        <li><a href="#"><i class="fa fa-chevron-left"></i></a></li>-->
<!--                        <li class="active"><a href="#">1</a></li>-->
<!--                        <li><a href="#">2</a></li>-->
<!--                        <li><a href="#">3</a></li>-->
<!--                        <li><a href="#">4</a></li>-->
<!--                        <li><a href="#">5</a></li>-->
<!--                        <li><a href="#"><i class="fa fa-chevron-right"></i></a></li>-->
<!--                      </ul>-->
                    </section>                    
                  </section>
                </section>
    </section>
  </section>
</section>

               
       
  <script th:src="@{asserts/js/jquery.min.js}"></script>
  <!-- Bootstrap -->
  <script th:src="@{asserts/js/bootstrap.js}"></script>
  <!-- App -->
  <script th:src="@{asserts/js/app.js}"></script>
  <script th:src="@{asserts/js/slimscroll/jquery.slimscroll.min.js}"></script>
    <script th:src="@{asserts/js/app.plugin.js}"></script>
<script type="text/javascript">
  function addmusic(json) {
    window.parent.document.getElementById('hidInp').value = json;
    window.parent.document.getElementById('addTab').click();
  }
  function querySheet(sortid){
    $.ajax({
      type:"get",
      url:"/iframegenre/"+sortid,
      success:function (data) {
          $("#musicid").empty();
          var json = JSON.parse(data);
          for (var i = 0; i < json.length; i++){
            $("#musicid").append("<div class=\"col-xs-6 col-sm-4 col-md-3 col-lg-2\">\n" +
                    "                          <div class=\"item\">\n" +
                    "                            <div class=\"pos-rlt\">\n" +
                    "                              <div class=\"item-overlay opacity r r-2x bg-black\">\n" +
                    "                                <div class=\"center text-center m-t-n\">\n" +
                    "                                  <a th:onclick=\'addmusic("+json[i].mid+")\'><i class=\"fa fa-play-circle i-2x\"></i></a>\n" +
                    "                                </div>\n" +
                    "                              </div>\n" +
                    "                              <a href=\"#\"><img th:src=\"content/songs/"+json[i].mid+"/"+json[i].mname+"}.jpg\" alt=\"\" class=\"r r-2x img-full\" style=\"width: 100%;height: 200px\"></a>\n" +
                    "                            </div>\n" +
                    "                            <div class=\"padder-v\">\n" +
                    "                              <a href=\"#\" data-bjax data-target=\"#bjax-target\" data-el=\"#bjax-el\" data-replace=\"true\" class=\"text-ellipsis\" th:text=\'"+json[i].mname+"\'></a>\n" +
                    "                              <a href=\"#\" data-bjax data-target=\"#bjax-target\" data-el=\"#bjax-el\" data-replace=\"true\" class=\"text-ellipsis text-xs text-muted\" th:text=\'"+json[i].msinger+"\'></a>\n" +
                    "                            </div>\n" +
                    "                          </div>\n" +
                    "                        </div>");
          }}
    });
  }
</script>

</body>
</html>